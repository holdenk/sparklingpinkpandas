!function(t){window.kalturaLoaded=!1,window.youtubeLoaded=!1,window.youtubePlayers=[],t.fn.embedVideo=function(i){t(this).each(function(){var a=t.extend({uiconf:"11601208",wid:"102",kalturaServerURL:"http://cloudvideo.cdn.net.co",maxWidth:t(this).data("max-width")?t(this).data("max-width"):"1200px",video_id:t(this).data("video-id"),video_url:t(this).data("video-url")?t(this).data("video-url"):null,html5:!1,autoplay:!!t(this).data("autoplay")&&t(this).data("autoplay"),thumbnail:!!t(this).data("thumbnail")&&t(this).data("thumbnail"),width:t(this).data("width")?t(this).data("width"):"100%",height:t(this).data("height")?t(this).data("height"):"100%",container:t(this).attr("id"),video_src:t(this).data("source")?t(this).data("source"):"kaltura",play:'<svg enable-background="new 0 0 34 34" height="34px" id="Layer_1" version="1.1" viewBox="0 0 34 34" width="34px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M17.078,0.25c-9.389,0-17,7.611-17,17s7.611,17,17,17s17-7.611,17-17S26.467,0.25,17.078,0.25z M14,23.963  V10.537l9,6.713L14,23.963z" fill="#FFF"/></svg>',playWidth:"100px",playHeight:"100px",playOpacity:"0.7"},i),e=t(this);if("kaltura"==a.video_src){if(!window.kalturaLoaded){var o=document.createElement("script");o.type="text/javascript",o.src=a.kalturaServerURL+"/p/"+a.wid+"/sp/"+a.wid+"00/embedIframeJs/uiconf_id/"+a.uiconf+"/partner_id/"+a.wid,document.getElementsByTagName("head")[0].appendChild(o),window.kalturaLoaded=!0}}else if("youtube"==a.video_src){if(!window.youtubeLoaded){var d=document.createElement("script");d.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("head")[0].appendChild(d),window.youtubeLoaded=!0}var r=a.video_url.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);null!=r&&(a.video_id=r[1])}else"vimeo"==a.video_src&&(a.video_id=a.video_url.split(/video\/|https?:\/\/vimeo\.com\//)[1].split(/[?&]/)[0]);var l=Math.floor(11*Math.random()),n=Math.floor(1e6*Math.random()),s=String.fromCharCode(l)+n;s=a.video_src+"_video_"+s;var h=function(){e.css({width:"100%",height:"100%",position:"absolute",top:0,left:0,"background-repeat":"no-repeat","background-size":"cover","background-position":"50% 50%","background-image":'url("'+a.thumbnail+'")'}).attr("id",s)};a.thumbnail?h():"kaltura"==a.video_src?(a.thumbnail="http://cloudvideo.cdn.net.co/p/"+a.wid+"/thumbnail/entry_id/"+a.video_id,h()):"youtube"==a.video_src?(a.thumbnail="https://img.youtube.com/vi/"+a.video_id+"/maxresdefault.jpg",h()):"vimeo"==a.video_src&&t.getJSON("http://www.vimeo.com/api/v2/video/"+a.video_id+".json?callback=?",{format:"json"},function(t){a.thumbnail=t[0].thumbnail_large,h()});var u=t("<div>").attr({style:"width: 100%; margin: 0 auto; max-width: "+a.maxWidth+";",class:"videoContainer"}),p=t("<div>").attr({style:"position: relative; height: 0; width: 100%; padding-bottom: 56.25%;",class:"framePlayerContainer"}),c=t(a.play);c.attr({width:"100%",height:"100%"});var m=t("<a>").css({position:"absolute",cursor:"pointer",width:a.playWidth,height:a.playHeight,top:"50%","margin-top":"-"+a.playHeight+"px",left:"50%","margin-left":"-"+a.playWidth+"px","text-decoration":"none",border:"none","border-radius":"50%","box-shadow":"0 0 100px rgba(0, 0, 0, 0.7)",opacity:a.playOpacity}).append(c);t(this).parent();m.appendTo(t(this)),t(this).wrap(p),p.wrap(u);var v=!a.autoplay||a.autoplay;m.click(function(){var i="iframe",o="";"undefined"!=typeof AMP&&(i="amp-iframe",o='<amp-img layout="fill" src="'+a.thumbnail+'" placeholder></amp-img>'),m.fadeOut(function(){if(t(this).remove(),"kaltura"==a.video_src&&window.kalturaLoaded)kWidget.embed({targetId:s,wid:"_"+a.wid,uiconf_id:a.uiconf,entry_id:a.video_id,flashvars:{autoPlay:v}});else if("youtube"==a.video_src)window.youtubePlayers[s]=new YT.Player(s,{width:"100%",height:"100%",videoId:a.video_id,events:{onReady:function(t){v&&t.target.playVideo()}}});else if("vimeo"==a.video_src){var d="<"+i+' src="https://player.vimeo.com/video/'+a.video_id+"?autoplay="+v+'" width="'+a.width+'" height="'+a.height+'" sandbox="allow-scripts allow-presentation allow-same-origin" layout="responsive" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>'+o+"</"+i+">";e.append(d)}})})})}}(jQuery);